{
  "function": [
    {
      "implementation_id": "main_fetch_users_and_save_csv",
      "test_cases": [
        {
          "description": "Verify that the function fetches user data from the API, converts it to CSV with proper headers and values, and saves the CSV file to the expected directory.",
          "id": "TC1_fetch_users_success",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "Fetch users successfully and save CSV",
          "test_setup": {
            "given": "API endpoint https://jsonplaceholder.typicode.com/users returns an array of 10 user objects with standard fields (id, name, username, email, etc.). The data directory does not exist.",
            "then": "A CSV file is created in the data directory containing all user objects as rows with matching headers. A success log is produced.",
            "when": "main() is called"
          },
          "type": "positive"
        },
        {
          "description": "Ensure that when the API request fails (e.g., due to network error), the function throws an error and does not create or modify any CSV file.",
          "id": "TC2_fetch_users_api_failure",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API request fails with network error",
          "test_setup": {
            "given": "API endpoint is unreachable (e.g., network error, DNS failure).",
            "then": "An error is thrown, and no CSV file is created or modified. No success log is produced.",
            "when": "main() is called"
          },
          "type": "negative"
        },
        {
          "description": "Test the case where the API returns an empty array; no CSV file should be created, and an error should be thrown.",
          "id": "TC3_fetch_users_api_returns_empty_array",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API returns empty users array",
          "test_setup": {
            "given": "API endpoint returns an empty array ([]) as a valid JSON response.",
            "then": "No CSV file is created or modified. An error is thrown indicating no data to process.",
            "when": "main() is called"
          },
          "type": "edge"
        },
        {
          "description": "Test that if user objects have missing fields, the CSV still includes columns for all fields present across users, and missing values are left empty.",
          "id": "TC4_fetch_users_partial_response",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API returns user objects with missing fields",
          "test_setup": {
            "given": "API endpoint returns an array of user objects where some objects have additional or missing fields.",
            "then": "CSV file is created with columns for all unique fields present in any user object. Rows have empty values for missing fields.",
            "when": "main() is called"
          },
          "type": "edge"
        },
        {
          "description": "Verify function behavior when the data directory already exists; file should still be saved successfully.",
          "id": "TC5_data_directory_already_exists",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "Data directory exists prior to execution",
          "test_setup": {
            "given": "The data directory already exists and is writable.",
            "then": "CSV file is created or overwritten in the data directory. A success log is produced.",
            "when": "main() is called"
          },
          "type": "positive"
        },
        {
          "description": "Test that if writing the CSV file fails (e.g., due to permission denied), an error is thrown and no partial file remains.",
          "id": "TC6_csv_file_write_failure",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "CSV file write fails due to permission error",
          "test_setup": {
            "given": "API returns valid users array but the data directory is not writable (e.g., permission denied).",
            "then": "An error is thrown during file write operation and no CSV file is created or modified.",
            "when": "main() is called"
          },
          "type": "negative"
        },
        {
          "description": "Verify that if the API returns malformed JSON, the function throws an error and does not create or modify any CSV file.",
          "id": "TC7_api_returns_malformed_json",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API returns malformed JSON",
          "test_setup": {
            "given": "API endpoint returns an invalid (malformed) JSON response.",
            "then": "An error is thrown during JSON parsing. No CSV file is created or modified.",
            "when": "main() is called"
          },
          "type": "negative"
        },
        {
          "description": "Test the case where the API returns a JSON object instead of an array; function should throw an error and not create a CSV file.",
          "id": "TC8_api_returns_non_array_json",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API returns non-array JSON response",
          "test_setup": {
            "given": "API endpoint returns a valid JSON object (not an array).",
            "then": "An error is thrown indicating unexpected response format. No CSV file is created or modified.",
            "when": "main() is called"
          },
          "type": "negative"
        },
        {
          "description": "Ensure that after successful CSV file creation, a success message is logged.",
          "id": "TC9_log_success_after_csv_write",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "Log success after CSV file is written",
          "test_setup": {
            "given": "API returns valid user data and the file is written successfully.",
            "then": "A success log message is produced indicating the CSV file has been saved.",
            "when": "main() is called"
          },
          "type": "positive"
        },
        {
          "description": "Verify that nested fields (e.g., address, company) are included in CSV using an appropriate representation (e.g., JSON stringified).",
          "id": "TC10_users_with_nested_fields",
          "implementation_id": "main_fetch_users_and_save_csv",
          "name": "API returns users with nested JSON fields",
          "test_setup": {
            "given": "API endpoint returns user objects with nested fields (objects or arrays, e.g., address, company).",
            "then": "CSV file includes columns for nested fields, with values properly stringified or serialized.",
            "when": "main() is called"
          },
          "type": "edge"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/main_fetch_users_and_save_csv.ts"
    },
    {
      "implementation_id": "user_to_row_csv_conversion",
      "test_cases": [
        {
          "description": "Converts a user object with all fields populated into an array suitable for CSV row.",
          "id": "tc_001_valid_user_all_fields",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Valid user with all fields present",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Springfield",
                  "street": "123 Main St",
                  "zipcode": "12345"
                },
                "email": "john@example.com",
                "id": 1,
                "name": "John Doe",
                "phone": "555-1234",
                "username": "johndoe",
                "website": "johndoe.com"
              }
            },
            "then": [
              1,
              "John Doe",
              "johndoe",
              "john@example.com",
              "123 Main St",
              "Springfield",
              "12345",
              "555-1234",
              "johndoe.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "positive"
        },
        {
          "description": "Ensures fields containing commas are properly escaped for CSV.",
          "id": "tc_002_escape_commas",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "User fields contain commas",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "New York",
                  "street": "456 Elm St, Apt 2",
                  "zipcode": "10001"
                },
                "email": "jane,smith@example.com",
                "id": 2,
                "name": "Jane, Smith",
                "phone": "555-5678",
                "username": "jane,smith",
                "website": "janesmith.com"
              }
            },
            "then": [
              2,
              "\"Jane, Smith\"",
              "\"jane,smith\"",
              "\"jane,smith@example.com\"",
              "\"456 Elm St, Apt 2\"",
              "New York",
              "10001",
              "555-5678",
              "janesmith.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Ensures fields containing double quotes are properly escaped for CSV.",
          "id": "tc_003_escape_quotes",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "User fields contain quotes",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Quoteville",
                  "street": "789 Oak St",
                  "zipcode": "22222"
                },
                "email": "alice\"ace\"@example.com",
                "id": 3,
                "name": "Alice \"The Ace\" Doe",
                "phone": "555-9999",
                "username": "alice\"ace\"",
                "website": "aliceace.com"
              }
            },
            "then": [
              3,
              "\"Alice \"\"The Ace\"\" Doe\"",
              "\"alice\"\"ace\"\"\"",
              "\"alice\"\"ace\"\"@example.com\"",
              "789 Oak St",
              "Quoteville",
              "22222",
              "555-9999",
              "aliceace.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when the 'address' field is missing.",
          "id": "tc_004_missing_address",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Missing address field",
          "test_setup": {
            "given": {
              "user": {
                "email": "bob@example.com",
                "id": 4,
                "name": "Bob",
                "phone": "555-0000",
                "username": "bobby",
                "website": "bob.com"
              }
            },
            "then": [
              4,
              "Bob",
              "bobby",
              "bob@example.com",
              "",
              "",
              "",
              "555-0000",
              "bob.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when 'phone' and 'website' fields are not present.",
          "id": "tc_005_missing_optional_fields",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Missing phone and website fields",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Silicon Valley",
                  "street": "1 Hacker Way",
                  "zipcode": "94043"
                },
                "email": "eve@example.com",
                "id": 5,
                "name": "Eve",
                "username": "eve"
              }
            },
            "then": [
              5,
              "Eve",
              "eve",
              "eve@example.com",
              "1 Hacker Way",
              "Silicon Valley",
              "94043",
              "",
              ""
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests how the function handles a user object with id equal to zero.",
          "id": "tc_006_id_is_zero",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "User id is zero",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Nowhere",
                  "street": "Zero St",
                  "zipcode": "00000"
                },
                "email": "zero@example.com",
                "id": 0,
                "name": "Zero",
                "phone": "000-0000",
                "username": "zero",
                "website": "zero.com"
              }
            },
            "then": [
              0,
              "Zero",
              "zero",
              "zero@example.com",
              "Zero St",
              "Nowhere",
              "00000",
              "000-0000",
              "zero.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when the 'id' field is missing.",
          "id": "tc_007_missing_id",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Missing id field",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Void",
                  "street": "No ID St",
                  "zipcode": "99999"
                },
                "email": "noid@example.com",
                "name": "NoID",
                "phone": "999-9999",
                "username": "noid",
                "website": "noid.com"
              }
            },
            "then": [
              null,
              "NoID",
              "noid",
              "noid@example.com",
              "No ID St",
              "Void",
              "99999",
              "999-9999",
              "noid.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "negative"
        },
        {
          "description": "Tests behavior when string fields are empty.",
          "id": "tc_008_empty_strings",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Fields with empty strings",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "",
                  "street": "",
                  "zipcode": ""
                },
                "email": "",
                "id": 6,
                "name": "",
                "phone": "",
                "username": "",
                "website": ""
              }
            },
            "then": [
              6,
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when fields are explicitly set to null.",
          "id": "tc_009_null_fields",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Fields with null values",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": null,
                  "street": null,
                  "zipcode": null
                },
                "email": null,
                "id": null,
                "name": null,
                "phone": null,
                "username": null,
                "website": null
              }
            },
            "then": [
              null,
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when string fields contain numbers or booleans.",
          "id": "tc_010_non_string_types",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "Fields with non-string types",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": true,
                  "street": 999,
                  "zipcode": false
                },
                "email": false,
                "id": 7,
                "name": 12345,
                "phone": 5551234,
                "username": true,
                "website": null
              }
            },
            "then": [
              7,
              "12345",
              "true",
              "false",
              "999",
              "true",
              "false",
              "5551234",
              ""
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when only the 'id' field is present.",
          "id": "tc_011_minimum_fields",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "User object with only id field",
          "test_setup": {
            "given": {
              "user": {
                "id": 8
              }
            },
            "then": [
              8,
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            "when": "userToRow(user) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests that extra fields are ignored and only specified fields are included in the CSV row.",
          "id": "tc_012_additional_unexpected_fields",
          "implementation_id": "user_to_row_csv_conversion",
          "name": "User object contains additional unexpected fields",
          "test_setup": {
            "given": {
              "user": {
                "address": {
                  "city": "Extratown",
                  "street": "Extra St",
                  "zipcode": "88888"
                },
                "company": "ExtraCorp",
                "email": "extra@example.com",
                "hobbies": [
                  "reading",
                  "coding"
                ],
                "id": 9,
                "name": "Extra Fields",
                "phone": "555-8888",
                "username": "extra",
                "website": "extra.com"
              }
            },
            "then": [
              9,
              "Extra Fields",
              "extra",
              "extra@example.com",
              "Extra St",
              "Extratown",
              "88888",
              "555-8888",
              "extra.com"
            ],
            "when": "userToRow(user) is called"
          },
          "type": "positive"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/user_to_row_csv_conversion.ts"
    },
    {
      "implementation_id": "write_csv_to_file",
      "test_cases": [
        {
          "description": "Verifies that writeFileSync writes a CSV file with correct headers and rows for a non-empty user array from the API.",
          "id": "writeFileSync_positive_normal_data",
          "implementation_id": "write_csv_to_file",
          "name": "Write CSV File with Normal User Data",
          "test_setup": {
            "given": "A valid CSV string generated from 10 user objects with all fields present. The target CSV_PATH does not exist or is empty.",
            "then": "A CSV file is created at CSV_PATH containing all users as rows, with headers matching the JSON object keys, and all data present and untransformed.",
            "when": "writeFileSync is called with the CSV string and valid CSV_PATH."
          },
          "type": "positive"
        },
        {
          "description": "Ensures that writeFileSync overwrites an existing CSV file with new content when called.",
          "id": "writeFileSync_positive_overwrite_existing",
          "implementation_id": "write_csv_to_file",
          "name": "Overwrite Existing CSV File",
          "test_setup": {
            "given": "A valid CSV string generated from user objects. A CSV file already exists at CSV_PATH with old content.",
            "then": "The existing file is overwritten with the new CSV content.",
            "when": "writeFileSync is called with the new CSV string and CSV_PATH."
          },
          "type": "positive"
        },
        {
          "description": "Checks that writeFileSync does not create or modify a CSV file if the API returns an empty array.",
          "id": "writeFileSync_edge_empty_user_list",
          "implementation_id": "write_csv_to_file",
          "name": "No File Created for Empty User List",
          "test_setup": {
            "given": "An empty array is returned from the API, resulting in an empty CSV string. No file exists at CSV_PATH.",
            "then": "No CSV file is created or modified. An error is signaled.",
            "when": "writeFileSync is called with the empty CSV string."
          },
          "type": "edge"
        },
        {
          "description": "Ensures that writeFileSync does not create or modify a file if the API request fails (e.g., network error or 500 response).",
          "id": "writeFileSync_negative_api_failure",
          "implementation_id": "write_csv_to_file",
          "name": "No File Written on API Failure",
          "test_setup": {
            "given": "No CSV string is generated due to API failure. No file exists at CSV_PATH.",
            "then": "No CSV file is created or modified. An error is signaled.",
            "when": "writeFileSync is called with undefined or null input."
          },
          "type": "negative"
        },
        {
          "description": "Verifies CSV file creation when some user objects have missing optional fields; columns should still be present with empty values.",
          "id": "writeFileSync_edge_missing_fields_in_user",
          "implementation_id": "write_csv_to_file",
          "name": "Write CSV with Missing Fields in Some Users",
          "test_setup": {
            "given": "A CSV string is generated from mixed user objects, some missing optional fields (e.g., phone).",
            "then": "CSV file contains all columns, with missing fields as empty strings in the corresponding rows.",
            "when": "writeFileSync is called with this CSV string."
          },
          "type": "edge"
        },
        {
          "description": "Tests performance and correctness when writing a CSV file for a very large user array.",
          "id": "writeFileSync_edge_large_user_list",
          "implementation_id": "write_csv_to_file",
          "name": "Write CSV File with Large Number of Users",
          "test_setup": {
            "given": "A CSV string generated from 10,000 user objects. CSV_PATH is available.",
            "then": "CSV file is successfully created with all users and headers, and is accessible.",
            "when": "writeFileSync is called with this large CSV string."
          },
          "type": "edge"
        },
        {
          "description": "Ensures that writeFileSync handles file system permission errors gracefully.",
          "id": "writeFileSync_negative_no_write_permission",
          "implementation_id": "write_csv_to_file",
          "name": "Fail to Write CSV File due to No Write Permission",
          "test_setup": {
            "given": "A valid CSV string and a CSV_PATH in a directory without write permission.",
            "then": "No CSV file is created. An appropriate file system error is signaled.",
            "when": "writeFileSync is called."
          },
          "type": "negative"
        },
        {
          "description": "Ensures that writeFileSync signals an error if the target path is invalid (e.g., directory does not exist).",
          "id": "writeFileSync_negative_invalid_csv_path",
          "implementation_id": "write_csv_to_file",
          "name": "Fail to Write CSV File due to Invalid Path",
          "test_setup": {
            "given": "A valid CSV string and a non-existent directory in the CSV_PATH.",
            "then": "No CSV file is created. An appropriate file system error is signaled.",
            "when": "writeFileSync is called."
          },
          "type": "negative"
        },
        {
          "description": "Verifies correct handling of user data containing commas, quotes, and newlines in CSV fields.",
          "id": "writeFileSync_edge_special_characters_in_fields",
          "implementation_id": "write_csv_to_file",
          "name": "Write CSV File with Special Characters in User Data",
          "test_setup": {
            "given": "A CSV string generated from user objects with fields containing commas, quotes, and newlines.",
            "then": "CSV file is created with proper escaping of special characters, readable by standard CSV parsers.",
            "when": "writeFileSync is called."
          },
          "type": "edge"
        },
        {
          "description": "Ensures that if writeFileSync is interrupted (e.g., process crash), the CSV file is not left in a partially written state.",
          "id": "writeFileSync_negative_partial_write_interrupted",
          "implementation_id": "write_csv_to_file",
          "name": "Partial Write is Not Allowed",
          "test_setup": {
            "given": "A valid CSV string, but the process is interrupted during write (simulate disk full or forced termination).",
            "then": "CSV file is either not created or is cleaned up; no partial/corrupt file remains.",
            "when": "writeFileSync is called."
          },
          "type": "negative"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/write_csv_to_file.ts"
    },
    {
      "implementation_id": "csv_to_json_conversion",
      "test_cases": [
        {
          "description": "Tests conversion of a valid CSV string with multiple user rows and fields.",
          "id": "TC1_positive_basic_csv",
          "implementation_id": "csv_to_json_conversion",
          "name": "Converts standard CSV to JSON",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n1,Leanne Graham,Bret,Sincere@april.biz\\n2,Ervin Howell,Antonette,Shanna@melissa.tv'",
            "then": [
              {
                "email": "Sincere@april.biz",
                "id": "1",
                "name": "Leanne Graham",
                "username": "Bret"
              },
              {
                "email": "Shanna@melissa.tv",
                "id": "2",
                "name": "Ervin Howell",
                "username": "Antonette"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests function with CSV containing only a header row.",
          "id": "TC2_edge_only_header",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with header only returns empty array",
          "test_setup": {
            "given": "csv = 'id,name,username,email'",
            "then": [],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests the case when an empty string is passed as CSV.",
          "id": "TC3_edge_empty_string",
          "implementation_id": "csv_to_json_conversion",
          "name": "Empty CSV string returns empty array",
          "test_setup": {
            "given": "csv = ''",
            "then": [],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests CSV input with only whitespace (spaces and newlines).",
          "id": "TC4_edge_whitespace_lines",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with only whitespace returns empty array",
          "test_setup": {
            "given": "csv = '    \\n   '",
            "then": [],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests CSV with fields containing commas and quoted values.",
          "id": "TC5_positive_fields_with_commas_and_quotes",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV fields with internal commas and quotes are parsed correctly",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n3,\"Smith, John\",\"johnny,smith\",\"john,smith@email.com\"'",
            "then": [
              {
                "email": "john,smith@email.com",
                "id": "3",
                "name": "Smith, John",
                "username": "johnny,smith"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests behavior when a row has fewer fields than the header.",
          "id": "TC6_edge_missing_field_in_row",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with missing fields in a row",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n4,Jane Doe,janedoe'",
            "then": [
              {
                "email": "",
                "id": "4",
                "name": "Jane Doe",
                "username": "janedoe"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests behavior when a row has more fields than the header.",
          "id": "TC7_edge_extra_field_in_row",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with extra fields in a row",
          "test_setup": {
            "given": "csv = 'id,name,username\\n5,Sam Smith,samsmith,extra_field'",
            "then": [
              {
                "id": "5",
                "name": "Sam Smith",
                "username": "samsmith"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests function behavior when given null as input.",
          "id": "TC8_negative_null_input",
          "implementation_id": "csv_to_json_conversion",
          "name": "Passing null as CSV input",
          "test_setup": {
            "given": "csv = null",
            "then": "TypeError or returns empty array depending on implementation",
            "when": "csvToJson(csv) is called"
          },
          "type": "negative"
        },
        {
          "description": "Tests function with CSV containing blank lines between data rows.",
          "id": "TC9_edge_blank_lines_between_rows",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with blank lines between rows",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n\\n6,Ann,ann99,ann@email.com\\n\\n7,Bob,bobby,bob@email.com'",
            "then": [
              {
                "email": "ann@email.com",
                "id": "6",
                "name": "Ann",
                "username": "ann99"
              },
              {
                "email": "bob@email.com",
                "id": "7",
                "name": "Bob",
                "username": "bobby"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests a CSV field with a quoted value that contains a newline character.",
          "id": "TC10_positive_fields_with_newlines_in_quotes",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV field contains newline within quoted value",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n8,\"Alice\\nWonder\",\"alicew\",\"alice@wonder.com\"'",
            "then": [
              {
                "email": "alice@wonder.com",
                "id": "8",
                "name": "Alice\nWonder",
                "username": "alicew"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests behavior when the CSV header contains duplicate field names.",
          "id": "TC11_edge_duplicate_header_fields",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with duplicate header fields",
          "test_setup": {
            "given": "csv = 'id,name,name,email\\n9,John,Johnny,johnny@email.com'",
            "then": [
              {
                "email": "johnny@email.com",
                "id": "9",
                "name": "Johnny"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests function behavior when input is a non-string type.",
          "id": "TC12_negative_non_string_input",
          "implementation_id": "csv_to_json_conversion",
          "name": "Non-string input (number) returns error or empty array",
          "test_setup": {
            "given": "csv = 12345",
            "then": "TypeError or returns empty array depending on implementation",
            "when": "csvToJson(csv) is called"
          },
          "type": "negative"
        },
        {
          "description": "Tests handling of spaces in header fields.",
          "id": "TC13_edge_header_with_spaces",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV header with leading/trailing spaces is trimmed",
          "test_setup": {
            "given": "csv = ' id , name , username , email \\n10, Spacey,spacey,spacey@email.com'",
            "then": [
              {
                "email": "spacey@email.com",
                "id": "10",
                "name": "Spacey",
                "username": "spacey"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests function with CSV that ends with multiple newline characters.",
          "id": "TC14_edge_trailing_newlines",
          "implementation_id": "csv_to_json_conversion",
          "name": "CSV with trailing newlines",
          "test_setup": {
            "given": "csv = 'id,name,username,email\\n11,Last,lastname,last@email.com\\n\\n\\n'",
            "then": [
              {
                "email": "last@email.com",
                "id": "11",
                "name": "Last",
                "username": "lastname"
              }
            ],
            "when": "csvToJson(csv) is called"
          },
          "type": "edge"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/csv_to_json_conversion.ts"
    },
    {
      "implementation_id": "parse_csv_line_for_robust_parsing",
      "test_cases": [
        {
          "description": "Verifies that the function correctly parses a CSV line with several unquoted fields separated by commas.",
          "id": "parsecsvline_basic_fields",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse simple CSV with unquoted fields",
          "test_setup": {
            "given": "line = '1,John Doe,jdoe@example.com'",
            "then": "['1', 'John Doe', 'jdoe@example.com']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Checks that quoted fields containing commas are parsed as a single field.",
          "id": "parsecsvline_quoted_fields",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV with quoted fields containing commas",
          "test_setup": {
            "given": "line = '1,\"Doe, John\",jdoe@example.com'",
            "then": "['1', 'Doe, John', 'jdoe@example.com']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Ensures that double quotes inside quoted fields are handled by escaping (e.g. \"\" -> \").",
          "id": "parsecsvline_escaped_quotes",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV with fields containing escaped quotes",
          "test_setup": {
            "given": "line = '2,\"Jane \"\"JJ\"\" Doe\",jane@example.com'",
            "then": "['2', 'Jane \"JJ\" Doe', 'jane@example.com']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Verifies that a trailing comma results in an additional empty field at the end.",
          "id": "parsecsvline_trailing_comma",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV line with trailing comma",
          "test_setup": {
            "given": "line = '3,James Smith,'",
            "then": "['3', 'James Smith', '']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Verifies that a leading comma results in an empty field at the start.",
          "id": "parsecsvline_leading_comma",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV line with leading comma",
          "test_setup": {
            "given": "line = ',First Field,Second Field'",
            "then": "['', 'First Field', 'Second Field']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Checks that multiple consecutive commas produce empty fields.",
          "id": "parsecsvline_multiple_adjacent_commas",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV line with multiple adjacent commas",
          "test_setup": {
            "given": "line = 'one,,three,,,six'",
            "then": "['one', '', 'three', '', '', 'six']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Verifies the function returns a single field of one quote when line = '\"\"'",
          "id": "parsecsvline_only_quotes",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse line consisting of only quotes",
          "test_setup": {
            "given": "line = '\"\"'",
            "then": "['']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Checks that an empty input line returns a single empty field.",
          "id": "parsecsvline_empty_line",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse empty line",
          "test_setup": {
            "given": "line = ''",
            "then": "['']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Verifies that fields with spaces or tabs are preserved as-is.",
          "id": "parsecsvline_whitespace_fields",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse fields containing only whitespace",
          "test_setup": {
            "given": "line = '  ,\\t,\\n ,\"  \",field'",
            "then": "['  ', '\\t', '\\n ', '  ', 'field']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Tests handling of a line with an unclosed quoted field. Should treat the rest of the line as part of the quoted field.",
          "id": "parsecsvline_unclosed_quote",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse CSV with unclosed quoted field",
          "test_setup": {
            "given": "line = '4,\"Unclosed field,still quoted,jdoe@example.com'",
            "then": "['4', 'Unclosed field,still quoted,jdoe@example.com']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "negative"
        },
        {
          "description": "Ensures that a line without any commas returns a single-element array.",
          "id": "parsecsvline_only_one_field",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse line with only one field",
          "test_setup": {
            "given": "line = 'singlefield'",
            "then": "['singlefield']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Checks that embedded newlines in quoted fields are preserved.",
          "id": "parsecsvline_quoted_field_with_newline",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse quoted field containing a newline character",
          "test_setup": {
            "given": "line = '5,\"Line with\\nnewline\",another'",
            "then": "['5', 'Line with\\nnewline', 'another']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Ensures that a quoted empty field is parsed as an empty string.",
          "id": "parsecsvline_quoted_empty_field",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse quoted empty field",
          "test_setup": {
            "given": "line = '6,\"\",email@example.com'",
            "then": "['6', '', 'email@example.com']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Tests a field containing both a comma and an escaped quote.",
          "id": "parsecsvline_comma_inside_quotes_and_escaped_quote",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Field with both comma and escaped quote",
          "test_setup": {
            "given": "line = '7,\"Value, with \"\"quote\"\" inside\",test'",
            "then": "['7', 'Value, with \"quote\" inside', 'test']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "positive"
        },
        {
          "description": "Checks that a line with only commas produces N+1 empty fields for N commas.",
          "id": "parsecsvline_only_commas",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse line with only commas",
          "test_setup": {
            "given": "line = ',,,'",
            "then": "['', '', '', '']",
            "when": "parseCsvLine(line) is called"
          },
          "type": "edge"
        },
        {
          "description": "Verifies function's behavior if input is null. Should throw or return error.",
          "id": "parsecsvline_null_input",
          "implementation_id": "parse_csv_line_for_robust_parsing",
          "name": "Parse null as input",
          "test_setup": {
            "given": "line = null",
            "then": "TypeError or equivalent error is thrown",
            "when": "parseCsvLine(line) is called"
          },
          "type": "negative"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/parse_csv_line_for_robust_parsing.ts"
    }
  ],
  "component": [],
  "endpoint": [
    {
      "implementation_id": "users_api_endpoint",
      "test_cases": [
        {
          "description": "Verifies that the endpoint returns a JSON array of users when the CSV file exists and contains valid data.",
          "id": "get_users_csv_exists_valid_data",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file exists and is valid",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [
            {
              "address": "{\"street\":\"Kulas Light\",\"suite\":\"Apt. 556\",\"city\":\"Gwenborough\",\"zipcode\":\"92998-3874\",\"geo\":{\"lat\":\"-37.3159\",\"lng\":\"81.1496\"}}",
              "company": "{\"name\":\"Romaguera-Crona\",\"catchPhrase\":\"Multi-layered client-server neural-net\",\"bs\":\"harness real-time e-markets\"}",
              "email": "Sincere@april.biz",
              "id": 1,
              "name": "Leanne Graham",
              "phone": "1-770-736-8031 x56442",
              "username": "Bret",
              "website": "hildegard.org"
            }
          ],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists with valid user data corresponding to JSONPlaceholder API response.",
            "then": "Response status is 200 and body is the JSON representation of users read from CSV.",
            "when": "A GET request is made to /api/users."
          },
          "type": "positive"
        },
        {
          "description": "Verifies that the endpoint returns a 404 status and an appropriate error message when the CSV file is missing.",
          "id": "get_users_csv_missing",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file does not exist",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": {
            "error": "User data file not found"
          },
          "response_status_code": 404,
          "test_setup": {
            "given": "CSV file does not exist in persistent storage.",
            "then": "Response status is 404 and body contains an appropriate error message.",
            "when": "A GET request is made to /api/users."
          },
          "type": "negative"
        },
        {
          "description": "Checks that the endpoint returns an empty JSON array when the CSV exists but contains no user data.",
          "id": "get_users_csv_exists_empty_file",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file exists but is empty",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists but is empty (no data rows, possibly only headers).",
            "then": "Response status is 200 and body is an empty array.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        },
        {
          "description": "Verifies that the endpoint returns an error if the CSV file is present but has invalid format.",
          "id": "get_users_csv_exists_malformed",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file exists but is malformed",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": {
            "error": "Failed to parse user data file"
          },
          "response_status_code": 500,
          "test_setup": {
            "given": "CSV file exists but contains malformed or corrupted data.",
            "then": "Response status is 500 and body contains an appropriate error message.",
            "when": "A GET request is made to /api/users."
          },
          "type": "negative"
        },
        {
          "description": "Checks that the endpoint gracefully handles CSV rows with missing fields, returning available fields as null or empty.",
          "id": "get_users_csv_exists_partial_row",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file contains incomplete user data",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [
            {
              "address": null,
              "company": null,
              "email": "Shanna@melissa.tv",
              "id": 2,
              "name": "Ervin Howell",
              "phone": null,
              "username": null,
              "website": null
            }
          ],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists with at least one row missing some columns (e.g., 'username' is empty).",
            "then": "Response includes user objects with missing fields set to null or empty.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        },
        {
          "description": "Verifies performance and correctness when the CSV file contains a large number of user records.",
          "id": "get_users_csv_exists_large",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file contains a large number of users",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": "Array of 10000 user objects as per CSV content",
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists with 10,000 valid user records.",
            "then": "Response status is 200 and body contains a JSON array of 10,000 user objects.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        },
        {
          "description": "Ensures correct parsing and encoding when user fields contain Unicode or special characters.",
          "id": "get_users_csv_exists_unicode_characters",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users with Unicode and special characters in CSV",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [
            {
              "address": "123 Stra\u00dfe, M\u00fcnchen",
              "company": "M\u00fcller & S\u00f6hne",
              "email": "zoe.m\u00fcller@example.com",
              "id": 3,
              "name": "Zo\u00eb M\u00fcller",
              "phone": "+49 89 123456",
              "username": "uni\u00a9\u00f8de",
              "website": "m\u00fcller.de"
            }
          ],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists with user records containing Unicode and special characters.",
            "then": "Response status is 200 and body correctly represents Unicode characters.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        },
        {
          "description": "Verifies that POST requests to the users endpoint are not allowed.",
          "id": "get_users_method_not_allowed",
          "implementation_id": "users_api_endpoint",
          "name": "POST method not allowed on /api/users",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "POST",
          "request_url": "/api/users",
          "response_body_json": {
            "error": "Method not allowed"
          },
          "response_status_code": 405,
          "test_setup": {
            "given": "CSV file exists or does not exist.",
            "then": "Response status is 405 and body contains a method not allowed error.",
            "when": "A POST request is made to /api/users."
          },
          "type": "negative"
        },
        {
          "description": "Checks that the endpoint ignores extraneous columns and only returns columns matching the JSONPlaceholder user object fields.",
          "id": "get_users_csv_exists_extra_columns",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file has extra columns",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [
            {
              "address": "{\"street\":\"Hoeger Mall\",\"suite\":\"Apt. 692\",\"city\":\"South Elvis\",\"zipcode\":\"53919-4257\",\"geo\":{\"lat\":\"29.4572\",\"lng\":\"-164.2990\"}}",
              "company": "{\"name\":\"Robel-Corkery\",\"catchPhrase\":\"Multi-tiered zero tolerance productivity\",\"bs\":\"transition cutting-edge web services\"}",
              "email": "Julianne.OConner@kory.org",
              "id": 4,
              "name": "Patricia Lebsack",
              "phone": "493-170-9623 x156",
              "username": "Karianne",
              "website": "kale.biz"
            }
          ],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists with standard user fields and additional irrelevant columns.",
            "then": "Response includes only the standard user fields as per JSONPlaceholder schema.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        },
        {
          "description": "Checks that the endpoint returns an empty array if the CSV file only has header row and no data rows.",
          "id": "get_users_csv_exists_headers_only",
          "implementation_id": "users_api_endpoint",
          "name": "Retrieve users when CSV file contains only headers",
          "request_body_json": {},
          "request_headers": {
            "Content-Type": "application/json"
          },
          "request_method": "GET",
          "request_url": "/api/users",
          "response_body_json": [],
          "response_status_code": 200,
          "test_setup": {
            "given": "CSV file exists but contains only the header row.",
            "then": "Response status is 200 and body is an empty array.",
            "when": "A GET request is made to /api/users."
          },
          "type": "edge"
        }
      ],
      "test_path": ".codevalid/tests/task_2938716450_20260225110000/users_api_endpoint.ts"
    }
  ]
}